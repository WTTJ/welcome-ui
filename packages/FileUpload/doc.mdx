---
name: FileUpload
route: /fields/file-upload
menu: Fields
---

import { Props, Playground } from 'docz'
import { FileUpload } from './index'
import { Code, Dependencies, TagVersion, Usage } from '../../docz'
const { dependencies, peerDependencies, component, name, version } = require('./package.json')

# FileUpload

<TagVersion version={version} name={name} />

## Install and import

<Usage component={component} name={name} peerDependencies={peerDependencies} />

FileUpload uses render props so you can pass a button through. You have access to `openFile` to open the native file chooser dialog box.

See your browser console for the real `File` object ready to upload.

## Default

See more about [media type](http://www.iana.org/assignments/media-types/media-types.xhtml).

<Playground>
  <Form initialValues={{}}>
    <ConnectedField
      component={FileUpload}
      accept="image/*"
      name="avatar"
      label="Avatar"
      hint="Files must be <200MB"
      required
      handleAddFile={console.debug}
      handleRemoveFile={console.debug}
      onError={console.error}
    >
      {({ openFile }) => <Button onClick={openFile}>Upload avatar</Button>}
    </ConnectedField>
  </Form>
</Playground>

## Show preview if value exists

<Playground>
  <Form
    initialValues={{
      file: 'https://doc-exemple/example.docx?v=63731713698'
    }}
  >
    <ConnectedField
      component={FileUpload}
      accept="image/*"
      name="file"
      label="File"
      hint="Files must be <200MB"
      required
      handleAddFile={console.debug}
      handleRemoveFile={console.debug}
    />
  </Form>
</Playground>

## Multiple

Add `multiple` property.

<Playground>
  <Form initialValues={{}}>
    <ConnectedField
      component={FileUpload}
      accept="application/pdf"
      name="files"
      label="Files"
      hint="Files must be <200MB"
      multiple
      handleAddFile={console.debug}
      handleRemoveFile={console.debug}
      required
    >
      {({ openFile, disabled }) => (
        <Button onClick={openFile} variant="secondary" disabled={disabled}>
          Choose file(s)
        </Button>
      )}
    </ConnectedField>
  </Form>
</Playground>

## Disabled

<Playground wrapper="withoutMargin">
  <Form initialValues={{}}>
    <ConnectedField component={FileUpload} disabled name="disabled">
      {({ openFile, disabled }) => (
        <Button onClick={openFile} disabled={disabled}>
          Choose file
        </Button>
      )}
    </ConnectedField>
  </Form>
</Playground>

## Change Button

You can change the upload button component.

<Playground wrapper="withoutMargin">
  <Form initialValues={{}}>
    <ConnectedField component={FileUpload} name="custom">
      {({ openFile, disabled }) => (
        <Button size="xl" shape="circle" onClick={openFile} disabled={disabled}>
          <UploadIcon size="xl" />
        </Button>
      )}
    </ConnectedField>
  </Form>
</Playground>

## Properties

<Props of={FileUpload} />

## Dependencies

<Dependencies dependencies={dependencies} />

## Peer dependencies

<Dependencies dependencies={peerDependencies} />
