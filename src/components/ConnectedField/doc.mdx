---
name: ConnectedField
route: /components/connected-field
menu: Components
---

import { Form } from 'react-final-form'
import { Props } from 'docz'
import kebabCase from 'lodash.kebabcase'
import { Playground } from '../../../docz/'
import { DoczCodeBlock } from '../../../docz/CodeBlock'

import { Box } from '../Box'
import { Button } from '../Button'
import { Icon } from '../Icon'
import { ConnectedField } from '../ConnectedField'
import { FieldGroup } from '../FieldGroup'
import { RadioGroup } from '../RadioGroup'
import { InputText } from '../InputText'
import { InputTextarea } from '../InputTextarea'
import { MarkdownEditor } from '../MarkdownEditor'
import { InputCheckbox } from '../InputCheckbox'
import { Toggle } from '../Toggle'
import { InputRadio } from '../InputRadio'
import { RadioTab } from '../RadioTab'
import { Select } from '../Select'
import { FileDrop } from '../FileDrop'
import { FileUpload } from '../FileUpload'
import { DateTimePicker } from '../DateTimePicker'
import { validateFileSize, validateMimeType } from '../../utils/'
import { DatePicker } from '../DatePicker'
import { TimePicker } from '../TimePicker'

# ConnectedField

You'll probably use [Final Form](https://github.com/final-form/react-final-form), [Redux Form](https://github.com/erikras/redux-form) or [Formik](https://github.com/jaredpalmer/formik) to manage your form state. If so, use `ConnectedField` for your fields.

You can find additional props for each field component in [Fields](/fields/file-upload).

## Examples

<Playground>
  {() => {
    // Constants
    const DEFAULT_MAX_FILE_SIZE = 2000000
    const ERROR_INVALID_TYPE = 'ERROR_INVALID_TYPE'
    const ERROR_INVALID_SIZE = 'ERROR_INVALID_SIZE'
    // Data
    const months = [
      { value: 'january', label: 'January' },
      { value: 'february', label: 'February' },
      { value: 'march', label: 'March' },
      { value: 'april', label: 'April' },
      { value: 'may', label: 'May' },
      { value: 'june', label: 'June' },
      { value: 'july', label: 'July' },
      { value: 'august', label: 'August' },
      { value: 'september', label: 'September' },
      { value: 'october', label: 'October' },
      { value: 'november', label: 'November' },
      { value: 'december', label: 'December' }
    ]
    const colors = [
      { value: 'red', label: 'Red' },
      { value: 'orange', label: 'Orange' },
      { value: 'green', label: 'Green' },
      { value: 'blue', label: 'Blue' },
      { value: 'pink', label: 'Pink' },
      { value: 'yellow', label: 'Yellow' }
    ]
    const networks = [
      { value: 'behance', label: 'Behance' },
      { value: 'dribbble', label: 'Dribbble' },
      { value: 'facebook', label: 'Facebook' },
      { value: 'github', label: 'Github' },
      { value: 'instagram', label: 'Instagram' },
      { value: 'linkedin', label: 'Linkedin' },
      { value: 'stackoverflow', label: 'Stack Overflow' },
      { value: 'twitter', label: 'Twitter' },
      { value: 'xing', label: 'Xing' },
      { value: 'youtube', label: 'Youtube' }
    ]
    // State
    const initialValues = {
      firstName: 'Fish',
      description: 'Fancy that',
      diet: 'carnivore',
      dogs: true,
      hungry: true,
      weekday: 'monday',
      month: 'february',
      colors: ['red', 'blue'],
      partyDate: Date.now()
    }
    // Add newly-created values to options
    const handleColorCreate = value => {
      if (!colors.find(color => color.value === value)) {
        colors.push({ value: kebabCase(value), label: value })
      }
    }
    // Render
    return (
      <Form
        initialValues={initialValues}
        onSubmit={console.debug}
        validate={values => {
          let errors = {}
          if (!values.lastName) {
            errors.lastName = 'Required'
          }
          if (!validateMimeType(values.profile, 'image/*')) {
            errors.profile = ERROR_INVALID_TYPE
          } else if (!validateFileSize(values.profile, DEFAULT_MAX_FILE_SIZE)) {
            errors.profile = ERROR_INVALID_SIZE
          }
          return errors
        }}
        render={({ form, handleSubmit, values }) => {
          return (
            <form onSubmit={handleSubmit}>
              <ConnectedField
                name="firstName"
                component={InputText}
                placeholder="Boaty"
                label="First name"
                mb="xl"
              />
              <ConnectedField
                name="lastName"
                component={InputText}
                placeholder="McBoatface"
                label="Last name"
                mb="xl"
                flexDirection="row"
              />
              <ConnectedField
                name="telephone"
                component={InputText}
                icon={<Icon name="phone" size="sm" color="nude.500" />}
                type="tel"
                placeholder="123456789"
                label="Phone number"
                mb="xl"
              />
              <RadioGroup label="Dietary" mb="xl">
                <ConnectedField name="diet" component={InputRadio} value="vegan" label="Vegan" />
                <ConnectedField
                  name="diet"
                  component={InputRadio}
                  value="herbivore"
                  label="Herbivore"
                />
                <ConnectedField
                  name="diet"
                  component={InputRadio}
                  value="omnivore"
                  label="Omnivore"
                />
                <ConnectedField
                  name="diet"
                  component={InputRadio}
                  value="carnivore"
                  label="Carnivore"
                />
              </RadioGroup>
              <RadioGroup label="Favourite weekday" flexDirection="row" required mb="xl">
                <ConnectedField name="weekday" component={RadioTab} value="monday" label="Monday" />
                <ConnectedField
                  name="weekday"
                  component={RadioTab}
                  value="tuesday"
                  label="Tuesday"
                />
                <ConnectedField
                  name="weekday"
                  component={RadioTab}
                  value="wednesday"
                  label="Wednesday"
                />
                <ConnectedField
                  name="weekday"
                  component={RadioTab}
                  value="thursday"
                  label="Thursday"
                />
                <ConnectedField name="weekday" component={RadioTab} value="friday" label="Friday" />
              </RadioGroup>
              <ConnectedField name="hungry" component={Toggle} label="Hungry" mb="xl" />
              <FieldGroup label="Animals" mb="xl">
                <ConnectedField
                  name="dogs"
                  component={InputCheckbox}
                  label="Dogs are particularly funny creatures due to their floppy ears"
                  required
                />
                <ConnectedField name="cats" component={InputCheckbox} label="Cats" />
              </FieldGroup>
              <ConnectedField
                name="network"
                component={Select}
                options={networks}
                label="Social network"
                placeholder="Choose network"
                renderItem={option => (
                  <Box display="flex" alignItems="center">
                    <Icon name={option.value} size="sm" mr="xs" /> <span>{option.label}</span>
                  </Box>
                )}
                mb="xl"
              />
              <ConnectedField
                name="month"
                component={Select}
                options={months}
                label="Favourite month"
                placeholder="Choose month"
                required
                mb="xl"
              />
              <ConnectedField
                name="colors"
                component={Select}
                options={colors}
                isMultiple
                isSearchable
                isCreatable
                label="Colors"
                onCreate={handleColorCreate}
                mb="xl"
              />
              <ConnectedField
                name="summary"
                component={InputTextarea}
                placeholder="Keep it short"
                label="Summary"
                mb="xl"
              />
              <ConnectedField
                name="description"
                component={MarkdownEditor}
                placeholder="Keep it sweet"
                label="Description"
                mb="xl"
              />
              <ConnectedField
                name="profile"
                component={FileDrop}
                isEditable
                isRemovable
                label="Profile pic"
                mb="xl"
              />
              <ConnectedField name="avatar" component={FileUpload} label="Avatar" mb="xl">
                {({ openFile }) => (
                  <Button mb="sm" onClick={openFile}>
                    Upload avatar
                  </Button>
                )}
              </ConnectedField>
              <ConnectedField
                name="partyDate"
                component={DateTimePicker}
                label="Party date"
                mb="xl"
              >
                <DatePicker icon={<Icon name="celebrate" size="sm" color="nude.600" />} />
                <TimePicker />
              </ConnectedField>
              <Button type="submit" size="lg" mr={20}>
                Submit
              </Button>
              <Button type="reset" size="lg" mr={20} onClick={() => form.reset(initialValues)}>
                Reset
              </Button>
              <Button type="button" size="lg" onClick={() => form.reset({})}>
                Clear
              </Button>
              <DoczCodeBlock>{values}</DoczCodeBlock>
            </form>
          )
        }}
      />
    )
  }}
</Playground>

## Properties

<Props of={ConnectedField} />
