# Version 9: Migrate to tailwindcss

Hi, today we are releasing version 9 of Welcome UI. This new version includes the migration to `tailwindcss` and the removal of `xstyled` and `styled-components`. It's a big change, but it will allow us to simplify design system and better performance.

![Version 9 illustration](https://www.welcome-ui.com/v9.png)

## Upgrade steps

### 1. Upgrade your dependencies

TODO

### 2. Script to migrate

In welcome-ui repository, run this script to change styled props to tailwind classes in your project, and apply other breaking changes from components listed below.

```bash
yarn migrate '../your_project_path' --replace
```

You will have to confirm each change, you can press `y` to apply the change, `n` to skip it, `a` to apply all remaining changes and `q` to quit.

If you want to see the changes before applying them, you can run the script without `--replace` flag:

```bash
yarn migrate '../your_project_path/subfolder'
```

#### Example of changes

```diff
-<Box backgroundColor="neutral-10" p="md" rounded="md" />
+<div className="bg-neutral-10 p-md rounded-md" />
```

### 3. Fix remaining issues

We cannot cover all cases, so you may have to fix some issues manually. Check `_CSS_TO_EDIT` comments in your code to find them, and check the list of components changes below.

## Components changes

### Deprecated components

With the removed of styled-components some components are not needed anymore and have been removed:

- Box
- Flex
- Grid
- Stack

Please use `div` with tailwind classes instead. To help you with the migration, we provide a script to convert Box, Flex, Grid and Stack components to `div` with tailwind classes. See step 2 above.

### Alert

To hide and icon you need now to use `hideIcon` prop instead of passing `null` to `icon` prop.

```diff
-<Alert icon={null} />
+<Alert hideIcon />
```

You cannot pass a custom icon anymore.

### Card

The Card.Cover component no longer accepts the `shape` prop.

### ClearButton

the `ClearButton` component has been removed. You can use the `CloseButton` component with `animatePresence` prop instead.

```diff
-import { ClearButton } from '@welcome-ui/clear-button'
+import { CloseButton } from '@welcome-ui/close-button'

-<ClearButton />
+<CloseButton animatePresence />
```

### DropdownMenu

The DropdownMenu component no longer accepts the `gutter` prop. This value is set to 4px by default. If you want to remove the gutter, you can use `withGutter` prop.

```diff
-<DropdownMenu gutter={0} />
+<DropdownMenu withGutter={false} />
```

### Icon

We removed the IconFont component and replaced it with a new Icon component that uses SVG icons. If you already use Icon component, you don't need to change anything (except if you use color or size props, see below).

```diff
-import { IconFont } from '@welcome-ui/icon-font'
+import { NameIcon } from '@welcome-ui/icon'
```

We also remove color props, you can now use tailwind text class to change the color of the icon.

```diff
-<CheckIcon color="neutral-60"  />
+<CheckIcon className="text-neutral-60" />
```

Size props are only for intern values (xs, sm, ...), you can now use tailwind size class to change the size of the icon if is custom.

```diff
-<CheckIcon size="24"  />
+<CheckIcon className="size-(--spacing-xl)" />
```

`alt` prop has been removed, you can now use `aria-label` if your icon is not decorative.

```diff
-<CheckIcon alt="Check icon" />
+<CheckIcon aria-label="Check icon" />
```

### Popover

The `animated` prop in `usePopover` and `usePopoverHover` hooks is no longer supported. If you want to customize the animation duration, you can use `hideTimeout` and `showTimeout` props.

```diff
-const popover = usePopover({ animated: 200 })
+const popover = usePopover({ hideTimeout: 200, showTimeout: 200 })
```

### Toast

Change import for Toast:

```diff
-import { Notifications } from '@welcome-ui/toast'
+import { Toast } from '@welcome-ui/toast'
```

To not showing icon use `hideIcon` property:

```diff
-<Growl icon={null} />
+<Growl hideIcon />

We also removed `onPauseOver` options.
```

### FileUpload

The `FileUpload` component no longer accepts the `maxSize` prop. If needed, you can add a custom behavior if the `handleAddFile` callback.

```diff
-<FileUpload maxSize={200000} />
+<FileUpload handleAddFile={(file) => /* do something if file is too big */ } />
```

## Utils

## useScreens

To get the screens values from the theme, you need to use `useScreens` hook instead of `useTheme`.

```diff
-import { useTheme } from '@styled/styled-components'
+ import { useScreens } from '@welcome-ui/utils'
- const theme = useTheme()
- const screens = theme.screens
+ const screens = useScreens()
```
