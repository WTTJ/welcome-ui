@layer components {
  .root {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    transition: background-color var(--duration-medium) var(--timing-primary);
    font-weight: var(--font-weight-medium);
    border: var(--components-dimensions-tag-border-width) solid
      var(--components-colors-tag-color-background-dash-default);
    line-height: initial;

    /* VARIABLES THAT CHANGE WITH REACT PROPS */
    background-color: var(
      --backgroundColor,
      var(--components-colors-tag-color-background-warm-light-disabled)
    );
    color: var(--color, var(--components-colors-tag-color-icon-warm-dark-default));
    border-color: var(--borderColor, transparent);
    height: var(--height);
    padding: var(--paddingVertical) var(--paddingHorizontal);
    gap: var(--gap);
    font-size: var(--fontSize);
    border-radius: var(--borderRadius, var(--components-dimensions-tag-padding-block-md));

    /* Text overflow for children */
    > span,
    > p {
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* Icon sizing */
    > svg {
      flex-shrink: 0;
      width: var(--iconWidth);
      height: var(--iconHeight);
    }
  }

  /* Interactive states for button and anchor tags */
  button.root,
  a.root {
    cursor: pointer;
    text-decoration: none;

    @media (hover: hover) and (pointer: fine) {
      &:hover {
        --backgroundColor: var(
          --backgroundColorHover,
          var(--components-colors-tag-color-background-warm-dark-default)
        );
      }
    }

    &[data-focus-visible],
    &:focus-visible {
      outline-color: var(--outlineColorFocus);
      --backgroundColor: var(
        --backgroundColorFocus,
        var(--components-colors-tag-color-background-warm-dark-default)
      );
    }

    &:active {
      --backgroundColor: var(
        --backgroundColorActive,
        var(--components-colors-tag-color-background-warm-dark-default)
      );
    }
  }

  .variant {
    &-primary {
      --backgroundColor: var(--components-colors-tag-color-background-brand-dark-hover);
      --backgroundColorHover: var(--color-background-brand-strong);
      --backgroundColorActive: var(--color-background-brand-strong);
      --backgroundColorFocus: var(--color-background-brand-strong);
      --outlineColorFocus: var(--color-background-brand-stronger);
      --color: var(--components-colors-tag-color-icon-dash-default);
    }

    &-info {
      --backgroundColor: var(--components-colors-tag-color-background-blue-light-disabled);
      --backgroundColorHover: var(--components-colors-tag-color-background-blue-light-hover);
      --backgroundColorActive: var(--components-colors-tag-color-background-blue-light-hover);
      --backgroundColorFocus: var(--components-colors-tag-color-background-blue-light-hover);
      --outlineColorFocus: var(--components-colors-tag-color-background-blue-dark-default);
      --color: var(--components-colors-tag-color-icon-blue-dark-default);
    }

    &-success {
      --backgroundColor: var(--color-green-10);
      --backgroundColorHover: var(--color-green-20);
      --backgroundColorActive: var(--color-green-20);
      --backgroundColorFocus: var(--color-green-20);
      --outlineColorFocus: var(--components-colors-tag-color-background-green-dark-hover);
      --color: var(--components-colors-tag-color-icon-green-dark-default);
    }

    &-danger {
      --backgroundColor: var(--components-colors-tag-color-background-red-light-disabled);
      --backgroundColorHover: var(--components-colors-tag-color-background-red-light-hover);
      --backgroundColorActive: var(--components-colors-tag-color-background-red-light-hover);
      --backgroundColorFocus: var(--components-colors-tag-color-background-red-light-hover);
      --outlineColorFocus: var(--components-colors-tag-color-background-red-dark-default);
      --color: var(--components-colors-tag-color-icon-red-dark-default);
    }

    &-warning {
      --backgroundColor: var(--color-background-warning-minimal);
      --backgroundColorHover: var(--color-background-warning-subtle);
      --backgroundColorActive: var(--color-background-warning-subtle);
      --backgroundColorFocus: var(--color-background-warning-subtle);
      --outlineColorFocus: var(--color-background-warning-secondary);
      --color: var(--color-icon-warning-primary);
    }

    &-ai {
      --backgroundColor: var(--components-colors-tag-color-background-violet-light-hover);
      --backgroundColorHover: var(--components-colors-tag-color-background-violet-dark-default);
      --backgroundColorActive: var(--components-colors-tag-color-background-violet-dark-default);
      --backgroundColorFocus: var(--components-colors-tag-color-background-violet-dark-default);
      --outlineColorFocus: var(--components-colors-tag-color-background-violet-dark-hover);
      --color: var(--color-violet-90);
    }

    &-blue {
      --backgroundColor: var(--components-colors-tag-color-background-blue-dark-hover);
      --backgroundColorHover: var(--color-background-accent-blue-strong);
      --backgroundColorActive: var(--color-background-accent-blue-strong);
      --backgroundColorFocus: var(--color-background-accent-blue-strong);
      --outlineColorFocus: var(--components-colors-tag-color-icon-blue-light-disabled);
      --color: var(--components-colors-tag-color-icon-dash-default);
    }

    &-green {
      --backgroundColor: var(--components-colors-tag-color-background-green-dark-hover);
      --backgroundColorHover: var(--color-background-accent-green-strong);
      --backgroundColorActive: var(--color-background-accent-green-strong);
      --backgroundColorFocus: var(--color-background-accent-green-strong);
      --outlineColorFocus: var(--color-background-accent-green-stronger);
      --color: var(--components-colors-tag-color-icon-dash-default);
    }

    &-orange {
      --backgroundColor: var(--color-background-warning-primary);
      --backgroundColorHover: var(--color-background-warning-strong);
      --backgroundColorActive: var(--color-background-warning-strong);
      --backgroundColorFocus: var(--color-background-warning-strong);
      --outlineColorFocus: var(--color-background-warning-stronger);
      --color: var(--components-colors-tag-color-icon-dash-default);
    }

    &-pink {
      --backgroundColor: var(--components-colors-tag-color-background-pink-dark-hover);
      --backgroundColorHover: var(--color-pink-50);
      --backgroundColorActive: var(--color-pink-50);
      --backgroundColorFocus: var(--color-pink-50);
      --outlineColorFocus: var(--color-pink-60);
      --color: var(--components-colors-tag-color-icon-dash-default);
    }

    &-teal {
      --backgroundColor: var(--color-background-accent-teal-primary);
      --backgroundColorHover: var(--color-teal-50);
      --backgroundColorActive: var(--color-teal-50);
      --backgroundColorFocus: var(--color-teal-50);
      --outlineColorFocus: var(--color-teal-60);
      --color: var(--components-colors-tag-color-icon-dash-default);
    }

    &-violet {
      --backgroundColor: var(--components-colors-tag-color-background-violet-dark-hover);
      --backgroundColorHover: var(--color-violet-50);
      --backgroundColorActive: var(--color-violet-50);
      --backgroundColorFocus: var(--color-violet-50);
      --outlineColorFocus: var(--color-violet-60);
      --color: var(--components-colors-tag-color-icon-dash-default);
    }
  }

  .size {
    &-xs {
      --height: var(--font-size-xl);
      --paddingVertical: var(--border-radius-xs);
      --paddingHorizontal: var(--components-dimensions-tag-padding-block-md);
      --gap: var(--components-dimensions-tag-padding-block-md);
      --fontSize: var(--components-dimensions-tag-padding-inline-lg);
      --borderRadius: var(--border-radius-xs);
      --iconWidth: 0.75rem;
      --iconHeight: var(--components-dimensions-tag-padding-inline-lg);
      --removeWidth: 0.5rem;
    }
    &-sm {
      --height: var(--size-icon-lg);
      --paddingVertical: var(--components-dimensions-tag-padding-block-md);
      --paddingHorizontal: var(--components-dimensions-tag-padding-inline-md);
      --gap: var(--components-dimensions-tag-padding-block-md);
      --fontSize: var(--components-dimensions-tag-padding-inline-lg);
      --iconWidth: 0.75rem;
      --iconHeight: var(--components-dimensions-tag-padding-inline-lg);
      --borderRadius: var(--components-dimensions-tag-padding-block-md);
      --removeWidth: 0.75rem;
    }
    &-md {
      --height: var(--size-icon-xl);
      --paddingVertical: var(--components-dimensions-tag-padding-block-md);
      --paddingHorizontal: var(--components-dimensions-tag-padding-inline-md);
      --gap: var(--components-dimensions-tag-padding-inline-md);
      --fontSize: var(--font-size-14);
      --iconWidth: 1rem;
      --iconHeight: var(--components-dimensions-tag-size-icon);
      --borderRadius: var(--components-dimensions-tag-padding-block-md);
      --removeWidth: 1rem;
    }
  }

  .hasRemoveAction {
    display: inline-flex;
    gap: var(--components-dimensions-tag-padding-block-md);
    align-items: center;
    flex-direction: row;
  }

  .isSquare {
    padding: 0;
    justify-content: center;
    flex-basis: var(--height);
  }

  .removeButton {
    --paddingInlineHasIcon: 0;
    flex-shrink: 0;
  }
}
