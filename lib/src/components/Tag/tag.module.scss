@layer components {
  .root {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    transition: background-color var(--duration-medium) var(--timing-primary);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-md);
    border: var(--border-width-md) solid var(--color-neutral-10);
    line-height: initial;

    /* VARIABLES THAT CHANGE WITH REACT PROPS */
    background-color: var(--backgroundColor, var(--color-beige-20));
    color: var(--color, var(--color-beige-90));
    border-color: var(--borderColor, transparent);
    height: var(--height);
    padding: var(--paddingVertical) var(--paddingHorizontal);
    gap: var(--gap);
    font-size: var(--fontSize);
    border-radius: var(--borderRadius);

    // Text overflow for children
    > span,
    > p {
      overflow: hidden;
      text-overflow: ellipsis;
    }

    // Icon sizing
    > svg {
      flex-shrink: 0;
      width: var(--iconWidth);
      height: var(--iconHeight);
    }
  }

  // Interactive states for button and anchor tags
  button.root,
  a.root {
    cursor: pointer;
    text-decoration: none;

    @media (hover: hover) and (pointer: fine) {
      &:hover {
        --backgroundColor: var(--backgroundColorHover, var(--color-beige-30));
      }
    }

    &[data-focus-visible],
    &:focus-visible {
      outline-color: var(--outlineColorFocus);
      --backgroundColor: var(--backgroundColorFocus, var(--color-beige-30));
    }

    &:active {
      --backgroundColor: var(--backgroundColorActive, var(--color-beige-30));
    }
  }

  .variant {
    &-primary {
      --backgroundColor: var(--color-brand-40);
      --backgroundColorHover: var(--color-brand-50);
      --backgroundColorActive: var(--color-brand-50);
      --backgroundColorFocus: var(--color-brand-50);
      --outlineColorFocus: var(--color-brand-60);
      --color: var(--color-neutral-90);
    }

    &-info {
      --backgroundColor: var(--color-blue-10);
      --backgroundColorHover: var(--color-blue-20);
      --backgroundColorActive: var(--color-blue-20);
      --backgroundColorFocus: var(--color-blue-20);
      --outlineColorFocus: var(--color-blue-30);
      --color: var(--color-blue-90);
    }

    &-success {
      --backgroundColor: var(--color-green-10);
      --backgroundColorHover: var(--color-green-20);
      --backgroundColorActive: var(--color-green-20);
      --backgroundColorFocus: var(--color-green-20);
      --outlineColorFocus: var(--color-green-30);
      --color: var(--color-green-90);
    }

    &-danger {
      --backgroundColor: var(--color-red-10);
      --backgroundColorHover: var(--color-red-20);
      --backgroundColorActive: var(--color-red-20);
      --backgroundColorFocus: var(--color-red-20);
      --outlineColorFocus: var(--color-red-30);
      --color: var(--color-red-90);
    }

    &-warning {
      --backgroundColor: var(--color-orange-10);
      --backgroundColorHover: var(--color-orange-20);
      --backgroundColorActive: var(--color-orange-20);
      --backgroundColorFocus: var(--color-orange-20);
      --outlineColorFocus: var(--color-orange-30);
      --color: var(--color-orange-90);
    }

    &-ai {
      --backgroundColor: var(--color-violet-20);
      --backgroundColorHover: var(--color-violet-30);
      --backgroundColorActive: var(--color-violet-30);
      --backgroundColorFocus: var(--color-violet-30);
      --outlineColorFocus: var(--color-violet-40);
      --color: var(--color-violet-90);
    }

    &-blue {
      --backgroundColor: var(--color-blue-40);
      --backgroundColorHover: var(--color-blue-50);
      --backgroundColorActive: var(--color-blue-50);
      --backgroundColorFocus: var(--color-blue-50);
      --outlineColorFocus: var(--color-blue-60);
      --color: var(--color-neutral-90);
    }

    &-green {
      --backgroundColor: var(--color-green-30);
      --backgroundColorHover: var(--color-green-40);
      --backgroundColorActive: var(--color-green-40);
      --backgroundColorFocus: var(--color-green-40);
      --outlineColorFocus: var(--color-green-50);
      --color: var(--color-neutral-90);
    }

    &-orange {
      --backgroundColor: var(--color-orange-40);
      --backgroundColorHover: var(--color-orange-50);
      --backgroundColorActive: var(--color-orange-50);
      --backgroundColorFocus: var(--color-orange-50);
      --outlineColorFocus: var(--color-orange-60);
      --color: var(--color-neutral-90);
    }

    &-pink {
      --backgroundColor: var(--color-pink-40);
      --backgroundColorHover: var(--color-pink-50);
      --backgroundColorActive: var(--color-pink-50);
      --backgroundColorFocus: var(--color-pink-50);
      --outlineColorFocus: var(--color-pink-60);
      --color: var(--color-neutral-90);
    }

    &-teal {
      --backgroundColor: var(--color-teal-40);
      --backgroundColorHover: var(--color-teal-50);
      --backgroundColorActive: var(--color-teal-50);
      --backgroundColorFocus: var(--color-teal-50);
      --outlineColorFocus: var(--color-teal-60);
      --color: var(--color-neutral-90);
    }

    &-violet {
      --backgroundColor: var(--color-violet-40);
      --backgroundColorHover: var(--color-violet-50);
      --backgroundColorActive: var(--color-violet-50);
      --backgroundColorFocus: var(--color-violet-50);
      --outlineColorFocus: var(--color-violet-60);
      --color: var(--color-neutral-90);
    }
  }

  .size {
    &-xs {
      --height: var(--height-20);
      --paddingVertical: var(--spacing-xxs);
      --paddingHorizontal: var(--spacing-xs);
      --gap: var(--spacing-xs);
      --fontSize: var(--font-size-xs);
      --borderRadius: var(--radius-sm);
      --iconWidth: 0.75rem;
      --iconHeight: var(--height-12);
      --borderRadius: var(--radius-sm);
      --removeWidth: 0.5rem;
    }
    &-sm {
      --height: var(--height-24);
      --paddingVertical: var(--spacing-xs);
      --paddingHorizontal: var(--spacing-sm);
      --gap: var(--spacing-xs);
      --fontSize: var(--font-size-xs);
      --iconWidth: 0.75rem;
      --iconHeight: var(--height-12);
      --borderRadius: var(--radius-md);
      --removeWidth: 0.75rem;
    }
    &-md {
      --height: var(--height-32);
      --paddingVertical: var(--spacing-xs);
      --paddingHorizontal: var(--spacing-sm);
      --gap: var(--spacing-sm);
      --fontSize: var(--font-size-sm);
      --iconWidth: 1rem;
      --iconHeight: var(--height-16);
      --borderRadius: var(--radius-md);
      --removeWidth: 1rem;
    }
  }

  .hasRemoveAction {
    display: inline-flex;
    gap: var(--spacing-xs);
    align-items: center;
    flex-direction: row;
  }

  .isSquare {
    padding: 0;
    justify-content: center;
    flex-basis: var(--height);
  }

  .removeButton {
    --paddingInlineHasIcon: 0;
    flex-shrink: 0;
  }
}
