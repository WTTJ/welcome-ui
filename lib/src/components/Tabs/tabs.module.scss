@use '../../utils/scss/striped-background' as *;

@layer components {
  .root {
    display: flex;
    align-items: center;
    transition-property: background-color, border-color, color, box-shadow;
    transition-timing-function: ease-in-out;
    cursor: pointer;

    /* VARIABLES FROM THEME - DONT CHANGE WITH REACT PROPS */
    border-radius: var(--radius-md);
    transition-duration: var(--duration-medium);
    font-weight: var(--font-weight-medium);

    /* VARIABLES FROM REACT PROPS - DEFAULT VALUES */
    gap: var(--tabGap);
    max-height: var(--tabItemMaxHeight);
    padding-block: var(--tabPaddingBlock);
    padding-inline: var(--tabPaddingInline);
    font-size: var(--tabFontSize);

    background-color: var(--tabItemBackgroundColor, var(--tab-color-background-unchecked-default));
    color: var(--tabItemColor, var(--tab-color-text-unchecked-default));
    box-shadow:
      inset 0 0 0 var(--tabItemBorderSize, var(--tab-border-width-unchecked))
        var(--tabItemBorderColor, var(--tab-color-border-unchecked-default)),
      var(--tabItemBoxShadow, var(--elevation-10));

    &:focus {
      outline: none !important; /* important for firefox */

      --tabItemColor: var(--tab-color-text-unchecked-pressed);
      --tabItemBackgroundColor: var(--tab-color-background-unchecked-pressed);
      --tabItemBorderColor: var(--tab-color-border-unchecked-pressed);

      &[aria-selected='true'] {
        --tabItemColor: var(--tab-color-text-checked-pressed);
        --tabItemBackgroundColor: var(--tab-color-background-checked-pressed);
        --tabItemBorderColor: var(--tab-color-border-checked-pressed);
      }
    }

    &[aria-selected='true'] {
      --tabItemColor: var(--tab-color-text-checked-default);
      --tabItemBackgroundColor: var(--tab-color-background-checked-default);
      --tabItemBorderColor: var(--tab-color-border-checked-default);
      --tabItemBorderSize: var(--tab-border-width-checked);

      &:hover {
        --tabItemColor: var(--tab-color-text-checked-hover);
        --tabItemBackgroundColor: var(--tab-color-background-checked-hover);
        --tabItemBorderColor: var(--tab-color-border-checked-hover);
        --tabItemBorderSize: var(--tab-border-width-checked);
        --tabItemBoxShadow: var(--elevation-20);
      }
    }

    /* TODO(isaac): use tab tokens when available */
    &[aria-disabled='true'] {
      cursor: not-allowed;
      --tabItemColor: var(--button-color-text-secondary-main-disabled);
      background: #{striped-background(var(--button-color-background-secondary-main-disabled))};
    }

    &:hover:not([aria-selected='true']):not([aria-disabled='true']) {
      --tabItemColor: var(--tab-color-text-unchecked-hover);
      --tabItemBackgroundColor: var(--tab-color-background-unchecked-hover);
      --tabItemBorderColor: var(--tab-color-border-unchecked-hover);
      --tabItemBoxShadow: var(--elevation-20);
    }
  }

  .size {
    &-lg {
      --tabItemMaxHeight: var(--tab-size-max-height-lg);
      --tabPaddingBlock: var(--tab-padding-block-lg);
      --tabPaddingInline: var(--tab-padding-inline-lg);
      --tabFontSize: var(--font-size-sm);
      --tabGap: var(--tab-gap-content-lg);
    }

    &-md {
      --tabItemMaxHeight: var(--tab-size-max-height-md);
      --tabPaddingBlock: var(--tab-padding-block-md);
      --tabPaddingInline: var(--tab-padding-inline-md);
      --tabFontSize: var(--font-size-xs);
      --tabGap: var(--tab-gap-content-md);
    }
  }

  /**
  * Tab List
  */
  .tab-list {
    display: flex;
    align-items: center;

    gap: var(--tabsGap, 0);

    &.size {
      &-lg {
        --tabsGap: var(--tab-gap-content-lg);
      }

      &-md {
        --tabsGap: var(--tab-gap-content-md);
      }
    }
  }
}
