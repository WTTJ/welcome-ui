@property --gradient-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: true;
}

@keyframes rotate-gradient {
  to {
    --gradient-angle: 360deg;
  }
}

@layer components {
  .root {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-style: solid;
    cursor: pointer;

    /* VARIABLES FROM THEME - DONT CHANGE WITH REACT PROPS */
    border-radius: var(--border-radius-md);
    transition-property: all;
    transition-duration: var(--duration-medium);
    outline: transparent solid var(--border-width-md);
    font-weight: var(--font-weight-semi-bold);
    font-family: var(--font-family-body);

    /* VARIABLES THAT CHANGE WITH REACT PROPS */
    height: var(--buttonHeight);
    padding-inline: var(--buttonPaddingInline);
    font-size: var(--buttonFontSize);
    color: var(--buttonColor, var(--neutral-90));
    background: var(--buttonBackground);
    border-width: var(--buttonBorderWidth, 0);
    border-color: var(--buttonBorderColor, transparent);
    line-height: var(--buttonLineHeight);
    box-shadow: var(--buttonBoxShadow, none);
    gap: var(--buttonGap);

    &[data-focus-visible],
    &:focus-visible {
      outline-width: var(--components-dimensions-button-border-width-focused);
      outline-color: var(--buttonOutlineColorFocus);
    }

    @media (hover: hover) and (pointer: fine) {
      &:hover {
        background: var(--buttonBackgroundHover);
        border-color: var(--buttonBorderColorHover, transparent);
        color: var(--buttonColorHover);
      }
    }

    &:active {
      background: var(--buttonBackgroundActive);
      border-color: var(--buttonBorderColorActive, transparent);
      color: var(--buttonColorPressed);
    }

    &:disabled,
    &[aria-disabled] {
      border-color: var(--buttonBorderColorDisabled, transparent);
      color: var(--buttonColorDisabled);
      background: var(
        --buttonBackgroundDisabled,
        repeating-linear-gradient(
            -45deg,
            white,
            white 2.5px,
            var(--components-colors-button-color-background-primary-ai-disabled) 2.5px,
            var(--components-colors-button-color-background-primary-ai-disabled) 5.25px
          )
          padding-box
      );
      cursor: not-allowed;
    }

    /* CHILDREN */

    :global(i.wui-icon-font),
    svg {
      font-weight: initial;

      width: var(--buttonIconSize);
      height: var(--buttonIconSize);
      font-size: var(--buttonIconSize);
    }
  }

  .size {
    &-sm {
      --buttonFontSize: var(--font-size-14);
      --buttonHeight: var(--components-dimensions-button-size-max-height-sm);
      --buttonPaddingInline: var(--spacing-sm);
      --buttonIconSize: var(--size-icon-md);
      --buttonLineHeight: var(--line-height-16);
      --buttonGap: var(--components-dimensions-button-gap-content-sm);
    }

    &-md {
      --buttonFontSize: var(--font-size-14);
      --buttonHeight: var(--components-dimensions-button-size-max-height-md);
      --buttonPaddingInline: var(--spacing-md);
      --buttonIconSize: var(--size-icon-md);
      --buttonLineHeight: var(--line-height-16);
      --buttonGap: var(--components-dimensions-button-gap-content-md);
    }

    &-lg {
      --buttonFontSize: var(--font-size-16);
      --buttonHeight: var(--components-dimensions-button-size-max-height-lg);
      --buttonPaddingInline: var(--spacing-lg);
      --buttonIconSize: var(--size-icon-lg);
      --buttonLineHeight: var(--line-height-20);
      --buttonGap: var(--components-dimensions-button-gap-content-lg);
    }
  }

  .variant {
    &-primary {
      --buttonBackground: var(--components-colors-button-color-background-primary-main-default);
      --buttonBackgroundActive: var(
        --components-colors-button-color-background-primary-main-pressed
      );
      --buttonBackgroundHover: var(--components-colors-button-color-background-primary-main-hover);
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
      --buttonColorDisabled: var(--components-colors-button-color-text-primary-main-disabled);
    }

    &-primary-neutral {
      --buttonBackground: var(--components-colors-button-color-background-primary-neutral-default);
      --buttonBackgroundActive: var(
        --components-colors-button-color-background-primary-neutral-pressed
      );
      --buttonBackgroundHover: var(
        --components-colors-button-color-background-primary-neutral-hover
      );
      --buttonColor: var(--components-colors-button-color-text-primary-neutral-default);
      --buttonColorDisabled: var(--components-colors-button-color-text-primary-neutral-disabled);
      --buttonColorHover: var(--components-colors-button-color-text-primary-neutral-hover);
      --buttonColorPressed: var(--components-colors-button-color-text-primary-neutral-pressed);
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
    }

    &-primary-ai {
      --buttonBackground:
        linear-gradient(var(--components-colors-button-color-background-primary-ai-default) 0 0)
          padding-box,
        conic-gradient(
            from var(--gradient-angle) at 50% 50%,
            var(--color-green-30),
            var(--color-teal-40),
            var(--color-blue-40),
            var(--color-violet-40),
            var(--color-pink-40),
            var(--color-red-orange-40),
            var(--color-green-30),
            var(--color-green-30),
            var(--color-teal-40),
            var(--color-blue-40),
            var(--color-violet-40),
            var(--color-pink-40),
            var(--color-red-orange-40),
            var(--color-green-30)
          )
          border-box;
      --buttonBackgroundActive:
        linear-gradient(var(--components-colors-button-color-background-primary-ai-pressed) 0 0)
          padding-box,
        conic-gradient(
            from var(--gradient-angle) at 50% 50%,
            var(--color-green-30),
            var(--color-teal-40),
            var(--color-blue-40),
            var(--color-violet-40),
            var(--color-pink-40),
            var(--color-red-orange-40),
            var(--color-green-30),
            var(--color-green-30),
            var(--color-teal-40),
            var(--color-blue-40),
            var(--color-violet-40),
            var(--color-pink-40),
            var(--color-red-orange-40),
            var(--color-green-30)
          )
          border-box;
      --buttonBackgroundHover:
        linear-gradient(var(--components-colors-button-color-background-primary-ai-hover) 0 0)
          padding-box,
        conic-gradient(
            from var(--gradient-angle) at 50% 50%,
            var(--color-green-30),
            var(--color-teal-40),
            var(--color-blue-40),
            var(--color-violet-40),
            var(--color-pink-40),
            var(--color-red-orange-40),
            var(--color-green-30),
            var(--color-green-30),
            var(--color-teal-40),
            var(--color-blue-40),
            var(--color-violet-40),
            var(--color-pink-40),
            var(--color-red-orange-40),
            var(--color-green-30)
          )
          border-box;
      --buttonBackgroundDisabled:
        repeating-linear-gradient(
            -45deg,
            white,
            white 2.5px,
            var(--components-colors-button-color-background-primary-ai-disabled) 2.5px,
            var(--components-colors-button-color-background-primary-ai-disabled) 5.25px
          )
          padding-box,
        linear-gradient(
            to bottom right,
            var(--color-neutral-30),
            var(--color-neutral-50),
            var(--color-neutral-40),
            var(--color-neutral-50),
            var(--color-neutral-60),
            var(--color-neutral-50)
          )
          border-box;
      --buttonBorderWidth: var(--components-dimensions-button-border-width-ai);
      --buttonColor: var(--components-colors-button-color-text-primary-ai-default);
      --buttonColorDisabled: var(--components-colors-button-color-text-primary-ai-disabled);
      --buttonColorHover: var(--components-colors-button-color-text-primary-ai-hover);
      --buttonColorPressed: var(--components-colors-button-color-text-primary-ai-pressed);
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
      animation: rotate-gradient 3s linear infinite;
      animation-play-state: paused;

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          animation-play-state: running;
        }
      }

      &:focus-visible {
        animation-play-state: running;
      }
    }

    &-primary-danger {
      --buttonBackground: var(--components-colors-button-color-background-primary-danger-default);
      --buttonBackgroundActive: var(
        --components-colors-button-color-background-primary-danger-pressed
      );
      --buttonBackgroundHover: var(
        --components-colors-button-color-background-primary-danger-hover
      );
      --buttonColor: var(--components-colors-button-color-text-primary-danger-default);
      --buttonColorDisabled: var(--components-colors-button-color-text-primary-danger-disabled);
      --buttonColorHover: var(--components-colors-button-color-text-primary-danger-hover);
      --buttonColorPressed: var(--components-colors-button-color-text-primary-danger-pressed);
      --buttonBorderWidth: var(--components-dimensions-button-border-width-secondary);
      --buttonBorderColor: var(--components-colors-button-color-border-primary-danger-default);
      --buttonBorderColorHover: var(--components-colors-button-color-border-primary-danger-hover);
      --buttonBorderColorActive: var(
        --components-colors-button-color-border-primary-danger-pressed
      );
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
    }

    &-secondary {
      --buttonBackground: var(--components-colors-button-color-background-secondary-main-default);
      --buttonBackgroundActive: var(
        --components-colors-button-color-background-secondary-main-pressed
      );
      --buttonBackgroundHover: var(
        --components-colors-button-color-background-secondary-main-hover
      );
      --buttonColor: var(--components-colors-button-color-text-secondary-main-default);
      --buttonColorDisabled: var(--components-colors-button-color-text-secondary-main-disabled);
      --buttonColorHover: var(--components-colors-button-color-text-secondary-main-hover);
      --buttonColorPressed: var(--components-colors-button-color-text-secondary-main-pressed);
      --buttonBorderWidth: var(--components-dimensions-button-border-width-secondary);
      --buttonBorderColor: var(--components-colors-button-color-border-secondary-main-default);
      --buttonBorderColorHover: var(--components-colors-button-color-border-secondary-main-hover);
      --buttonBorderColorActive: var(
        --components-colors-button-color-border-secondary-main-pressed
      );
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
    }

    &-secondary-danger {
      --buttonBackground: var(--components-colors-button-color-background-secondary-danger-default);
      --buttonBackgroundActive: var(
        --components-colors-button-color-background-secondary-danger-pressed
      );
      --buttonBackgroundHover: var(
        --components-colors-button-color-background-secondary-danger-hover
      );
      --buttonColor: var(--components-colors-button-color-text-secondary-danger-default);
      --buttonColorDisabled: var(--components-colors-button-color-text-secondary-danger-disabled);
      --buttonColorHover: var(--components-colors-button-color-text-secondary-danger-hover);
      --buttonColorPressed: var(--components-colors-button-color-text-secondary-danger-pressed);
      --buttonBorderWidth: var(--components-dimensions-button-border-width-secondary);
      --buttonBorderColor: var(--components-colors-button-color-border-secondary-danger-default);
      --buttonBorderColorHover: var(--components-colors-button-color-border-secondary-danger-hover);
      --buttonBorderColorActive: var(
        --components-colors-button-color-border-secondary-danger-pressed
      );
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
    }

    &-tertiary {
      --buttonBackground: var(--components-colors-button-color-background-tertiary-main-default);
      --buttonBackgroundActive: var(
        --components-colors-button-color-background-tertiary-main-pressed
      );
      --buttonBackgroundHover: var(--components-colors-button-color-background-tertiary-main-hover);
      --buttonBackgroundDisabled: var(
        --components-colors-button-color-background-tertiary-main-disabled
      );
      --buttonColor: var(--components-colors-button-color-text-tertiary-main-default);
      --buttonColorDisabled: var(--components-colors-button-color-text-tertiary-main-disabled);
      --buttonColorHover: var(--components-colors-button-color-text-tertiary-main-hover);
      --buttonColorPressed: var(--components-colors-button-color-text-tertiary-main-pressed);
      --buttonBorderWidth: var(--components-dimensions-button-border-width-tertiary);
      --buttonBorderColor: var(--components-colors-button-color-border-tertiary-main-default);
      --buttonBorderColorHover: var(--components-colors-button-color-border-tertiary-main-hover);
      --buttonBorderColorActive: var(--components-colors-button-color-border-tertiary-main-pressed);
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
    }

    &-tertiary-danger {
      --buttonBackground: var(--components-colors-button-color-background-tertiary-danger-default);
      --buttonBackgroundActive: var(
        --components-colors-button-color-background-tertiary-danger-pressed
      );
      --buttonBackgroundHover: var(
        --components-colors-button-color-background-tertiary-danger-hover
      );
      --buttonBackgroundDisabled: var(
        --components-colors-button-color-background-tertiary-danger-disabled
      );
      --buttonColor: var(--components-colors-button-color-text-tertiary-danger-default);
      --buttonColorDisabled: var(--components-colors-button-color-text-tertiary-danger-disabled);
      --buttonColorHover: var(--components-colors-button-color-text-tertiary-danger-hover);
      --buttonColorPressed: var(--components-colors-button-color-text-tertiary-danger-pressed);
      --buttonBorderWidth: var(--components-dimensions-button-border-width-tertiary);
      --buttonBorderColor: var(--components-colors-button-color-border-tertiary-danger-default);
      --buttonBorderColorHover: var(--components-colors-button-color-border-tertiary-danger-hover);
      --buttonBorderColorActive: var(
        --components-colors-button-color-border-tertiary-danger-pressed
      );
      --buttonOutlineColorFocus: var(--components-colors-button-color-border-focused);
    }
  }

  .loader {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    top: 0;
  }

  .loader-children {
    opacity: 0;
  }
}
